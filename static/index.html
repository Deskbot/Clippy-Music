<!DOCTYPE html>
<html>
	<head>
		<title>Clippy-Music</title>

		<meta charset="utf-8">

		<link rel="stylesheet" type="text/css" href="css/reset.css">
		<link rel="stylesheet" type="text/css" href="css/main.css">
		<link rel="stylesheet" type="text/css" href="css/wordart.css">
		<link rel="stylesheet" type="text/css" href="css/clippy.css">

		<script type="text/javascript" src="js/clippy.min.js" defer></script>
		<script type="text/javascript" src="js/konami.min.js" defer></script>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js" defer></script>
		<script type="text/javascript" src="js/jquery-ui.min.js" defer></script>
		<script type="text/javascript" src="js/partyMode.min.js" defer></script>

		<script type="text/javascript" src="js/cookie.js" defer></script>
		<script type="text/javascript" src="js/handlers.js" defer></script>
		<script type="text/javascript" src="js/main.js" defer></script>
		<script type="text/javascript" src="js/templates.js" defer></script>
		<script type="text/javascript" src="js/utils.js" defer></script>
		<script type="text/javascript" src="js/dom/DlList.js" defer></script>
		<script type="text/javascript" src="js/dom/Queue.js" defer></script>
		<script type="text/javascript" src="js/WebSocketHandler.js" defer></script>

		<link rel="shortcut icon" href="media/Clippy.ico">
	</head>
	<body>
		<main>
			<section id="upload-section">
				<div class="section-borders">
					<div class="handle">
						<h2>Upload</h2>
						<button class="x-button" tabindex="-1"></button>
					</div>
					<div class="bag">
						<form id="upload-form" action="api/content/upload" method="POST" enctype="multipart/form-data">
							<fieldset>
								<legend>Music</legend>

								<div id="music-file-input-button" class="file-upload">
									<button class="file" type="button">Choose Music File</button>
									<input type="file" id="music-file" name="music-file" accept="audio/*, video/*" tabindex="-1">
									<span class="file-name">No File Chosen</span>
								</div>

								<label>YouTube URL</label>
								<input type="url" name="music-url" autofocus>
								<label>Start Time</label>
								<input type="text" name="start-time" placeholder="Format: seconds or mm:ss or hh:mm:ss">
								<label>End Time</label>
								<input type="text" name="end-time" placeholder="Format: seconds or mm:ss or hh:mm:ss">
							</fieldset>

							<fieldset>
								<legend>Optional Image Overlay</legend>

								<div id="picture-file-input-button" class="file-upload">
									<button class="file" type="button">Choose Image File</button>
									<input type="file" id="image-file" name="image-file" accept="image/*" tabindex="-1">
									<span class="file-name">No File Chosen</span>
								</div>

								<label>Image URL</label>
								<input type="url" name="image-url">
							</fieldset>

							<input id="upload-media-button" type="submit" value="Upload Media">
						</form>

						<fieldset id="dl-list-container" class="hidden">
							<legend>Progress</legend>
							<ol class="bucket"></ol>
						</fieldset>
					</div>
				</div>
			</section>

			<noscript>
				<section id="no-script-section">
					<div class="section-borders">
						<div class="handle">
							<h2>No JavaScript</h2>
							<button class="x-button" tabindex="-1"></button>
						</div>
						<div class="bag extra-pad">
							<p>You do not have JavaScript active on this page. I respect your right to decide what code your computer executes, however you should note that some functionality will be disabled.</p>
							<ul class="text">
								<li>The "Upload" application works, however "No File Chosen" will still be displayed after a file has been selected. Hover over that area to see the name of the file.</li>
								<li>If there is some problem with the upload, you will not be notified.</li>
								<li>The "Currently Playing" and "Queue" applications will not work.</li>
								<li>You can not move the application windows around.</li>
								<li>The admin panel will not work.</li>
								<li>You will not be able to interact with Clippit, the music server assistant.</li>
							</ul>
							<p>You may be inclined to use the <a href="https://github.com/Deskbot/Clippy-Music/blob/master/README.md#user-api">API</a>.</p>
						</div>
					</div>
				</section>
			</noscript>

			<section id="current-section">
				<div class="section-borders">
					<div class="handle">
						<h2>Currently Playing</h2>
						<button class="x-button" tabindex="-1"></button>
					</div>
					<div class="bag extra-pad">
						<div id="currently-playing">
							<p class="wordart">
								<span class="title"></span>
							</p>
							<p class="nickname"></p>
						</div>
					</div>
				</div>
			</section>

			<section id="queue-section">
				<div class="section-borders">
					<div class="handle">
						<h2>Queue</h2>
						<button class="x-button" tabindex="-1"></button>
					</div>
					<div class="bag">
						<div id="queue"></div>
					</div>
				</div>
			</section>

			<section id="nickname-section">
				<div class="section-borders">
					<div class="handle">
						<h2>Nickname (<span class="my-nickname"></span>)</h2>
						<button class="x-button" tabindex="-1"></button>
					</div>
					<div class="bag">
						<form id="nickname-form" class="ws" action="api/nickname/set" method="POST">
							<label>New Nickname</label>
							<input type="text" name="nickname">
							<input type="submit" value="Submit">
						</form>
					</div>
				</div>
			</section>

			<section id="admin-section" class="hidden">
				<div class="section-borders">
					<div class="handle">
						<h2>Admin Panel</h2>
						<button class="x-button" tabindex="-1"></button>
					</div>
					<div class="bag">
						<div id="admin-form" class="form">
							<label>Admin Password</label>
							<input id="admin-password-input" type="password" name="password" placeholder="This field is required for this window to operate.">

							<fieldset>
								<legend>Controls</legend>
								<button id="skip-button" class="action">Skip Current Music</button>
								<br>
								<button id="skip-penalise-button" class="action">Skip Current Music + Put User to Back of Queue</button>
								<br>
								<button id="skip-ban-button" class="action">Skip Current Music + Ban User</button>
							</fieldset>

							<fieldset id="ban-form">
								<legend>Ban User</legend>
								<form>
									<label>IP Address</label>
									<input type="text" name="id">
									<label>Nickname</label>
									<input type="text" name="nickname" placeholder="Will ban all with this nickname.">
									<input type="submit" value="Ban">
								</form>
							</fieldset>

							<fieldset id="un-ban-form">
								<legend>Un-Ban User</legend>
								<form>
									<label>IP Address</label>
									<input type="text" name="id">
									<label>Nickname</label>
									<input type="text" name="nickname" placeholder="Will un-ban all with this nickname.">
									<input type="submit" value="Un-Ban">
								</form>
							</fieldset>
						</div>
					</div>
				</div>
			</section>

			<section id="info-section">
				<div class="section-borders">
					<div class="handle">
						<h2>Information</h2>
						<button class="x-button" tabindex="-1"></button>
					</div>
					<div class="bag extra-pad">
						<p>Your priority in the queue is affected by how much time you've spent playing music recently.</p>
						<p>Clippy-Music may be initialised such that there is a length of time in which the same music or image can not be played twice.</p>
						<p>You can double click the WordArt in order to toggle having the style.</p>
						<p>Join Clippy over at <a href="https://github.com/Deskbot/Clippy-Music">GitHub</a>. (contributions welcome)</p>
					</div>
				</div>
			</section>
		</main>

		<div id="templates">
			<template id="bucket-container-template">
				<fieldset class="bucket-container">
					<legend class="nickname"></legend>
					<ol class="bucket"></ol>
				</fieldset>
			</template>

			<template id="bucket-item-template">
				<li>
					<span class="title"></span>
					<button class="delete hidden" data-id="">Remove</button>
				</li>
			</template>

			<template id="dl-block-template">
				<div class="dl-block"></div>
			</template>

			<template id="dl-item-template">
				<li class="dl-item" data-cid="">
					<span class="title"></span>
					<button class="cancel hidden">Cancel</button>
					<button class="dismiss hidden">Dismiss</button>
					<div class="dl-bar"></div>
				</li>
			</template>
		</div>
	</body>
</html>